#
# dotphiles : https://github.com/dotphiles/dotphiles
#
# Description:  Config for ssh client
#
# Authors:
#   Ben O'Hara <bohara@gmail.com>
#

# Global Settings
ForwardAgent yes
#VisualHostKey yes
HashKnownHosts no
#ConnectTimeout 2
SendEnv LC_TERM_PROGRAM LC_TERM_PROFILE
Compression yes

# My Hosts
Host home home.benohara.net
  User bohara
  Hostname home.benohara.net
Host mac-mini mac-mini.benohara.net
  User bohara
  Hostname mac-mini.local

# Local development
Host localhost 127.0.0.1
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  DynamicForward 5555

# NLNOG Ring
Host *.ring.nlnog.net
  User ausregistry

Host jump
  HostName jump.arsrs.local
  #PermitLocalCommand yes
  #LocalCommand ssh -f %r@%h -o RemoteForward="10000 localhost:22" -o ForwardAgent=yes -p %p sshfs -p 10000 %u@localhost:%d/Projects Projects2
  DynamicForward 4321

Host jumpden
  User bohara
  ProxyCommand ssh -vvv -W ben.ohara@mgmt1.den.reg.neustar.com:%p nsrjump

Host derevprvjmp1 derevprvjmp1.de.neustar.com jump.reg jump.reg.neustar.com nsrjump
  User bohara
  IdentityFile ~/.ssh/id_rsa.work
  Hostname jump.reg.neustar.com
  DynamicForward 4322

# Work machines
Host *.reg.neustar.com *.den *.ash
    User ben.ohara

# Default
Host *
    User ben.ohara
    StrictHostKeyChecking ask
    ServerAliveCountMax 6
    ServerAliveInterval 30
    KeepAlive yes
    ControlMaster auto
    ControlPath ~/.ssh/master/%r@%h:%p
    ControlPersist 2h
    PubkeyAuthentication yes
    Protocol 2

