#
# dotphiles : https://github.com/dotphiles/dotphiles
#
# Description:  Config for ssh client
#
# Authors:
#   Ben O'Hara <bohara@gmail.com>
#

# Global Settings
ForwardAgent yes
#VisualHostKey yes
HashKnownHosts no
#ConnectTimeout 2
SendEnv LC_TERM_PROGRAM LC_TERM_PROFILE

# My Hosts
Host home home.benohara.net
    Hostname home.benohara.net
Host mac-mini mac-mini.benohara.net
    Hostname mac-mini.local

# Local development
Host localhost 127.0.0.1
    UserKnownHostsFile /dev/null
    StrictHostKeyChecking no
    DynamicForward 5555

# Work machines
Host *.arsrs.local *.ardns.local *.ausregistry.com.au *.office *.ausregistrygroup.local desktop-vm *.vic.ausregistry.com.au *.stkildard.vic.ausregistry.com.au akl *.ams *.aws *.bne *.bog *.hkg *.ist *.jbo *.mad *.mel *.mia *.nbo *.per *.sao *.sjc *.stag *.sto *.syd *.tky *.tor
    User ben.ohara
    IdentityFile ~/.ssh/id_rsa.work

# NLNOG Ring
Host *.ring.nlnog.net
    User ausregistry
    IdentityFile ~/.ssh/id_rsa.work

Host jump
    User ben.ohara
    HostName jump.arsrs.local
    IdentityFile ~/.ssh/id_rsa.work
    #PermitLocalCommand yes
    #LocalCommand ssh -f %r@%h -o RemoteForward="10000 localhost:22" -o ForwardAgent=yes -p %p sshfs -p 10000 %u@localhost:%d/Projects Projects2

Host epp1.mel.arsrs.local
    ProxyCommand ssh -W %h:%p jump1.mel.arsrs.local

# Default
Host *
    User bohara
    StrictHostKeyChecking ask
    ServerAliveCountMax 6
    ServerAliveInterval 30
    KeepAlive yes
    ControlMaster auto
    ControlPath ~/.ssh/master/%r@%h:%p
    ControlPersist 2h
    PubkeyAuthentication yes
    Protocol 2

